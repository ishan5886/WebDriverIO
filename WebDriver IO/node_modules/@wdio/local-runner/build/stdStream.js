"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const stream_1 = require("stream");
const utils_1 = require("./utils");
class RunnerStream extends stream_1.Transform {
    constructor() {
        super();
        /**
         * Remove events that are automatically created by Writable stream
         */
        this.on('pipe', () => {
            utils_1.removeLastListener(this, 'close');
            utils_1.removeLastListener(this, 'drain');
            utils_1.removeLastListener(this, 'error');
            utils_1.removeLastListener(this, 'finish');
            utils_1.removeLastListener(this, 'unpipe');
        });
    }
    _transform(chunk, encoding, callback) {
        callback(undefined, chunk);
    }
    _final(callback) {
        this.unpipe();
        callback();
    }
}
exports.default = RunnerStream;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RkU3RyZWFtLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL3N0ZFN0cmVhbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLG1DQUFxRDtBQUNyRCxtQ0FBNEM7QUFFNUMsTUFBcUIsWUFBYSxTQUFRLGtCQUFTO0lBQy9DO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFFUDs7V0FFRztRQUNILElBQUksQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRTtZQUNqQiwwQkFBa0IsQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUE7WUFDakMsMEJBQWtCLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFBO1lBQ2pDLDBCQUFrQixDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQTtZQUNqQywwQkFBa0IsQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUE7WUFDbEMsMEJBQWtCLENBQUMsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUFBO1FBQ3RDLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQztJQUVELFVBQVUsQ0FBRSxLQUFVLEVBQUUsUUFBd0IsRUFBRSxRQUEyQjtRQUN6RSxRQUFRLENBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQyxDQUFBO0lBQzlCLENBQUM7SUFFRCxNQUFNLENBQUUsUUFBNkM7UUFDakQsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFBO1FBQ2IsUUFBUSxFQUFFLENBQUE7SUFDZCxDQUFDO0NBQ0o7QUF4QkQsK0JBd0JDIn0=